---
# Full stack: base server + Tomcat + MySQL + CAS + TL Manager (Phases 1â€“4)
# Run from repo root: ansible-playbook -i inventory ansible/playbooks/site.yml
- name: Base server (Phase 1)
  hosts: tlmanager
  become: true
  roles:
    - role: base_server

- name: MySQL 8 and Tomcat 9 (Phase 2)
  hosts: tlmanager
  become: true
  roles:
    - role: mysql
    - role: tomcat

- name: Deploy CAS WAR (Phase 3)
  hosts: tlmanager
  become: true
  roles:
    - role: cas

- name: Deploy TL Manager WAR (Phase 4)
  hosts: tlmanager
  become: true
  roles:
    - role: tlmanager

- import_playbook: 05-bootstrap-user.yml
